!function(){"use strict";var t,o,r,a={609:function(e){e.exports=jQuery},934:function(e){e.exports=wp}},i={};function n(e){if(i[e])return i[e].exports;var t=i[e]={exports:{}};return a[e](t,t.exports,n),t.exports}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=n(609),r=n(934),o(function(e){e(".wrap").on("focus",".audiotheme-input-group input",function(){e(this).parent().addClass("is-focused")}).on("blur",".audiotheme-input-group input",function(){e(this).parent().removeClass("is-focused")})}),o(function(d){d(".audiotheme-taxonomy-meta-box").each(function(){var e=d(this),t=e.find(".audiotheme-add-term-group"),a=t.find(".button").attr("disabled",!1),i=t.find(".audiotheme-add-term-field"),n=e.find(".audiotheme-taxonomy-term-list ul"),o=d(".audiotheme-add-term-response");i.on("keypress",function(e){13===e.which&&(e.preventDefault(),a.click())}),a.on("click",function(){t.addClass("is-loading"),a.attr("disabled",!0),o.text("").hide(),r.ajax.post("audiotheme_ajax_insert_term",{taxonomy:e.data("taxonomy"),term:i.val(),nonce:t.find(".audiotheme-add-term-nonce").val()}).done(function(e){i.val(""),n.prepend(e.html)}).fail(function(e){o.css("display","block").text(e.message)}).always(function(){t.removeClass("is-loading"),a.attr("disabled",!1)})})})}),t={init:function(e){var n={items:null};return e&&o.extend(n,e),this.each(function(){var a,e=o(this),i=e.find(".audiotheme-repeater-items"),t=e.data("item-template-id")?(a=r.template(e.data("item-template-id")),n.items&&(e.audiothemeRepeater("clearList"),o.each(n.items,function(e,t){i.append(a(t).replace(/__i__/g,e))})),t=a({}),o(t.replace(/__i__/g,"0"))):e.find(".audiotheme-repeater-item:eq(0)").clone();e.data("itemIndex",e.find(".audiotheme-repeater-item").length||0),e.data("itemTemplate",t),e.audiothemeRepeater("updateIndex"),i.sortable({axis:"y",forceHelperSize:!0,forcePlaceholderSize:!0,helper:function(e,t){var a=t.clone();return a.children().each(function(e){o(this).width(t.children().eq(e).width())}),a},update:function(){e.audiothemeRepeater("updateIndex")},change:function(){e.find(".audiotheme-repeater-sort-warning").fadeIn("slow")}}),e.find(".audiotheme-repeater-add-item").on("click",function(e){e.preventDefault(),o(this).closest(".audiotheme-repeater").audiothemeRepeater("addItem")}),e.on("click",".audiotheme-repeater-remove-item",function(e){var t=o(this).closest(".audiotheme-repeater");e.preventDefault(),o(this).closest(".audiotheme-repeater-item").remove(),t.audiothemeRepeater("updateIndex")}),e.on("blur","input,select,textarea",function(){o(this).closest(".audiotheme-repeater").find(".audiotheme-repeater-item").removeClass("audiotheme-repeater-active-item")}).on("focus","input,select,textarea",function(){o(this).closest(".audiotheme-repeater-item").addClass("audiotheme-repeater-active-item").siblings().removeClass("audiotheme-repeater-active-item")})})},addItem:function(){var e=o(this),t=e.data("itemIndex"),a=e.data("itemTemplate");e.audiothemeRepeater("clearList"),e.find(".audiotheme-repeater-items").append(a.clone()).children(":last-child").find("input,select,textarea").each(function(){var e=o(this);e.attr("name",e.attr("name").replace("[0]","["+t+"]"))}).end().find(".audiotheme-clear-on-add").val("").end().find(".audiotheme-remove-on-add").remove().end().find(".audiotheme-show-on-add").show().end().find(".audiotheme-hide-on-add").hide().end(),e.data("itemIndex",t+1).audiothemeRepeater("updateIndex"),e.trigger("addItem.audiotheme",[e.find(".audiotheme-repeater-items").children().last()])},clearList:function(){var e=o(this).find(".audiotheme-repeater-items");e.hasClass("is-empty")&&e.removeClass("is-empty").html("")},updateIndex:function(){o(".audiotheme-repeater-index",this).each(function(e){o(this).text(e+1+".")})}},o.fn.audiothemeRepeater=function(e){return t[e]?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==d(e)&&e?void o.error("Method "+e+" does not exist on jQuery.audiothemeRepeater"):t.init.apply(this,arguments)}}();